---
layout: post
title: "CroudPractitioner"
date: 2023-07-12
category: code
excerpt: ""
---
# CloudPractitioner
## トラフィック

最適なスケーリングをしても、1つのインスタンスにリクエストが集中しては意味がない。

→ロードバランス(負荷分散)をすることで各インスタンスに分散できる。

### ****Elastic Load Balancing****

リージョン単位で設定。フロントとバックエンドを分離できる。

- 高パフォーマンス
- 高いコスト効率
- 高可用性
- 自動的にスケーラブル

## メッセージング・キューイング

注文を受け取る→直接バリスタに依頼する

この構成だとバリスタが忙しいと、注文を受け取った後、バリスタが空くのを待たなければならない。次の注文が受けられない。**→密結合**

間にバッファを用意して、注文を貯めておく物を用意。バリスタが忙しくても注文をどんどん受け付けることができる。**→疎結合**

**密結合アーキテクチャ**(**モノリシックアプリケーション)**

**疎結合アーキテクチャ(マイクロサービス)**は単一障害が起きても他のサービスに影響が出ない。

### Amazon SQS

メッセージが処理されるまで保持するサービス。

### Amazon SNS

Pub/Subモデル

パブリッシャーとサブスクライバーの2つのポジションがある。

パブリッシャーはトピックを利用して、トピックをサブスクライブするユーザーに共通のメッセージを送ることができる。

サブスクライバーには、ウェブサーバー、E メールアドレス、AWS Lambda 関数などを設定できる。

## サーバーレスコンピューティング

EC2にアプリをホストする時に考えること：

1. インスタンスをプロビジョニング
2. コードをアップロード
3. アプリケーションの実行中、インスタンスを監視し続ける

サーバーレス：インフラやサーバを意識する必要がない→アプリケーション開発に注力できる

### AWS Lambda

**選定するときに考えること**

- 従来のアプリケーションをホストする時
- OSへのフルアクセス権が欲しい時
- サービス指向型・イベント駆動型のアプリをホストする時
- サーバーのプロビジョニングや管理が不要なとき
- 実行時間15分未満のプログラムをホストするとき

料金：使用したコンピューティング時間で課金(コードが実行されている時)

### Amazon ECS,Amazon EKS

コンテナオーケストレーションツール。

コンテナの起動・停止・再起動・モニタリングを行うとき、クラスタ(複数のインスタンス)単位で行う必要があるため、手動で行うのは面倒。→オーケストレーションツールを使用

**選定する時に考えること**

- Dockerコンテナベースのワークロードを実行したいときに使う
- ECSとEKSは使いたいオーケストレーションツールでどちらかを選択する
- 自分のEC2インスタンス上で実行するのか、AWS Fargateで管理されたマシン上で実行するのかを決める

### AWS Fargate

ホストマシンに自前のEC2を使いたくないときに使える。

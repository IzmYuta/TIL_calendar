---
layout: post
title: "CloudPractitioner"
date: 2023-05-11
category: code
excerpt: ""
---
# CloudPractitioner
## EC2

### インスタンスファミリー

- 汎用
    
    バランスが良い。Webサーバー、コードリポジトリなど幅広く利用可能
    
- コンピューティング最適化
    
    ゲームサーバー、科学モデリングなどの高負荷な処理をするのに向いている。
    
- メモリ最適化
    
    メモリ負荷の高いタスクむけ。高性能データベースなど、メモリ内の大規模なデータセットを処理するワークロードに適しています。
    
- 高速コンピューティング
    
    浮動小数点の処理・グラフィック処理など。
    
- ストレージ最適化
    
    ローカルストレージの大規模なデータセットに対する高速シーケンシャルの読み取りおよび書き込みのアクセスを必要とするワークロード用に設計されている。
    

### 購入オプション

- オンデマンド
    
    長期利用は不要。前払いなし。試験運用などに向いている。中断できない不規則で短期的なワークロードに最適。1年以上継続的に使う場合はリザーブドインスタンスが向いている。
    
- Savings Plan
    
    一定の使用量を1年or3年の期間で契約。最大72%削減。使用量を超えるまでは割引価格で課金される。使用量を超えた分はオンデマンド料金で課金される。Fargate,Lamdaにも適用。
    
- リザーブドインスタンス
    
    必要なリソースがわかっている時に利用。1年or3年契約。全額前払い、一部前払い、前払いなしの3つの支払い方法がある。
    
- スポットオプション
    
    開始時刻と終了時刻が定まっていないワークロードや、中断可能なワークロードに最適。未使用のEC2キャパシティを利用する。空きがない時は空きができるまでリクエストが成功しない。最大90%削減。
    
- Dedicated Host
    
    コンプライアンスの関係で使うことがある。物理ホストを占有する。最も高価。
    

## スケーラビリティ

需要に応じてスケールを変化させることができるので、コストを無駄にすることなく、ピーク時の負荷に対応することができる。

**Amazon EC2 Auto Scalingで実現可能。**

### Amazon EC2 Auto Scaling

スケーリング方法は2つある。

- 動的スケーリング
    
    変化する需要に対応。
    
- 予測スケーリング
    
    事前に予測した需要に基づいて、インスタンスを自動配備。
    
    <aside>
    💡 動的なスケーリングと予測スケーリングを同時に使用することにより、迅速なスケールが可能になります。
    
    </aside>
    

**設定可能なパラメータ**

- 最小キャパシティ
    
    Auto Scaling グループの作成後すぐに作成されるインスタンスの数。
    
- 必要キャパシティ
    
    普段はこのインスタンスの数が実行される。指定しない場合は最小キャパシティと同じになる。
    
- 最大キャパシティ
